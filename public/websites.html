<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="css/materialize.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header>
    <ul id="nav-mobile" class="side-nav fixed" style="transform: translateX(0%);">
        <li class="valign-wrapper " style="height:64px;">
            <span class="logo-text " style="width:100%; text-align: center;">Materialize</span>
        </li>
        <li class="bold ">
            <a href="dashboard.html" class="waves-effect waves-light ">
                <i class="material-icons">dashboard</i>
                Dashboard
            </a>
        </li>
        <li class="bold active">
            <a href="websites.html" class="waves-effect waves-light">
                <i class="material-icons">web</i>
                Websites
            </a>
        </li>
        <li class="bold">
            <a href="#!" class="waves-effect waves-light"> <i
                    class="material-icons">insert_comment</i>
                Messages</a>
        </li>
        <li class="bold">
            <a href="#!" class="waves-effect waves-light">
                <i class="material-icons">settings</i>
                Settings
            </a>
        </li>

        <li><a class="waves-effect waves-light btn  deep-purple " href="#!" onclick="logout()">Logout</a></li>
    </ul>
</header>
<main class="with-sidenav">
    <div class="section" style="height:calc( 93vh - 45px); padding:0">

        <!--FAB-->
        <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
            <a class="btn-floating btn-large deep-purple tooltipped modal-trigger" data-position="left" data-delay="50"
               data-tooltip="Add Form" href="#add_form_modal">
                <i class="material-icons ">add</i>
            </a>
        </div>

        <!-- Navbar -->
        <nav>
            <div class="nav-wrapper deep-purple  " style="padding-left:20px;">
                <a href="#" data-activates="nav-mobile"
                   class="button-collapse top-nav full hide-on-large-only">
                    <i class="material-icons">menu</i>
                </a>
                <div class="col s12">
                    <a href="#!" class="breadcrumb">Websites</a>
                </div>
            </div>
        </nav>
        <!-- Content -->
        <div style="padding:1vh">
            <div class="row" style="width:100%;">


                <div class="col s12 m4">
                    <div class="card" style="min-width:100%">
                        <div class="card-content black-text">
                            <div>
                                <span class=" deep-purple-text m-0" style="font-size:30px;">Website Name</span><br>
                                <a class="deep-purple-text lighten-5" style="font-size:17px;">http://sostatic.xyz</a>

                                <p class="bold deep-purple-text lighten-1 m-t-20 ">
                                    Forms 2/3
                                </p>
                                <div class="progress deep-purple lighten-4">
                                    <div class="determinate deep-purple lighten-1" style="width: 66%"></div>
                                </div>

                                <p class="bold deep-purple-text lighten-1 m-t-20">
                                    Messages 281/2000
                                </p>
                                <div class="progress deep-purple lighten-4">
                                    <div class="determinate deep-purple lighten-1" style="width: 14%"></div>
                                </div>


                                <p class="bold deep-purple-text lighten-1 m-t-20">
                                    Recaptcha
                                    <small class="red-text lighten-4"> disabled</small>
                                </p>


                            </div>


                        </div>
                        <div class="card-action">
                            <a href="website_dashboard.html" class="bold deep-purple-text lighten-2">Go to website</a>

                        </div>
                    </div>
                </div>


            </div>
            <!-- Modal Structure -->

            <div id="add_form_modal" class="modal">
                <div class="modal-content">



                        <div class="row">
                            <div class="col m6 offset-m3 s12 ">
                                <span class=" deep-purple-text m-0" style="font-size:25px;">Add Form</span><br>

                                <div class="input-field tooltipped " data-tooltip="An alias for your website"
                                     data-position="right">
                                    <input id="website_alias" name="website_alias" class="m-b-5" type="text" value="website name">
                                    <label for="website_alias">Website Name</label>
                                </div>
                                <div class="input-field tooltipped "
                                     data-tooltip="We will only consider requests from this website to avoid spam  (can add domains later)"
                                     data-position="right">
                                    <input id="website_url" name="website_url" type="text" value="website url">
                                    <label for="website_url">Website URL</label>
                                </div>


                                <p style="display:inline-block" class="tooltipped"
                                   data-tooltip="Online consider messages sent from the HTTPS version of the site"
                                   data-position="right">
                                    <input type="checkbox" class="purple-checkbox" id="only_https" name="only_https" checked/>
                                    <label for="only_https" class="deep-purple-text text-lighten-2 checkbox-label">Only
                                        HTTPs</label>
                                </p>


                                <div class="input-field tooltipped "
                                     data-tooltip="Email to redirect the messages to (can add more later)"
                                     data-position="right">
                                    <input id="email" type="text" name="email" value="contact email">
                                    <label for="email">Contact EMAIL</label>
                                </div>


                                <p class="bold deep-purple-text lighten-1 m-0  ">
                                    ReCAPTCHA
                                </p>


                                <div class="switch  tooltipped m-t-10"
                                     data-tooltip="Enable message filtering with recaptcha" data-position="right"
                                     style="display:inline-block">
                                    <label>
                                        Off
                                        <input type="checkbox" name="recaptcha" id="use_recaptcha" checked>
                                        <span class="lever deep-purple lighten-4"></span>
                                        On
                                    </label>
                                </div>


                                <div class="m-t-20">
                                    <div class="input-field">
                                        <input id="recaptcha_secret" type="text" name="recaptcha_secrets" value="recaptcha secret">
                                        <label for="recaptcha_secret">ReCAPTCHA Secret</label>
                                    </div>

                                    <div class="input-field">
                                        <input id="recaptcha_site_key" type="text" name="recaptcha_site_key" value="recaptcha sitekey">
                                        <label for="recaptcha_site_key">ReCAPTCHA Site-key</label>
                                    </div>
                                </div>

                            </div>


                        </div>


                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Cancel</a>
                    <button onclick="onAddWebsiteClicked()" class="waves-effect waves-green btn-flat ">Confirm</button>
                </div>
            </div>




        </div>
    </div>
</main>
</body>

<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/materialize.min.js"></script>
<script type="text/javascript" src="js/firebase4.9.0.js"></script>
<script type="text/javascript" src="js/script.js"></script>
<script type="text/javascript" src="js/prism.js"></script>
<script type="text/javascript" src="js/matchHeight.js"></script>
<script type="text/javascript" src="js/functionality.js"></script>

<script>




    function onAddWebsiteClicked() {
        let websiteAlis = $("#website_alias").val();
        let websiteUrl = $("#website_url").val();
        let onlyHttps = $("#only_https").val();
        let contact = $("#email").val();
        let useRecaptcha = $("#use_recaptcha").val();
        let recaptchaSecret = $("#recaptcha_secret").val();
        let recaptchaSitekey = $("#recaptcha_site_key").val();

        let website = new Website(websiteAlis, websiteUrl, onlyHttps, contact, useRecaptcha, recaptchaSecret, recaptchaSitekey);

        addWebsite(website, onWebsiteAdded);
    }


    function onWebsiteAdded(snapshot){
        let id = snapshot.key;
        window.location.href = "website_dashboard.html?website_id="+id;

    }




</script>
</html>
